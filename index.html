<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Eh Auto - Suntikoppa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f2f2f2;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 620px;
      margin: auto;
      background: #fffff0;
      padding: 20px;
      margin-top: 20px;
      border-radius: 15px;
      box-shadow: 0px 0px 10px rgba(0,0,0,0.2);
    }
    .logo { text-align: center; margin-bottom: 20px; }
    .logo-box {
      width: 160px;
      height: 90px;
      background: black;
      color: white;
      line-height: 90px;
      border-radius: 10px;
      display: inline-block;
      font-size: 28px;
      font-weight: bold;
      animation: move 1s infinite alternate;
    }
    @keyframes move {
      from { transform: translateX(-10px); }
      to { transform: translateX(10px); }
    }
    h2 { text-align: center; }
    label {
      font-weight: bold;
      margin-top: 10px;
      display: block;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 16px;
      box-sizing: border-box;
    }
    button {
      background: green;
      color: white;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      border: none;
      margin-top: 15px;
    }
    button:hover { background: darkgreen; }
    .hidden { display: none; }
    .pay-box {
      text-align: center;
      margin-top: 20px;
      padding: 15px;
      border: 2px dashed green;
      border-radius: 10px;
    }
    .visitor-box {
      text-align: center;
      margin-bottom: 15px;
      background: #dfffe0;
      padding: 10px;
      border-radius: 10px;
      font-weight: bold;
    }
  </style>
</head>

<body>

<!-- PAGE 1: LOGIN PAGE -->
<div class="container" id="loginPage">

  <div class="logo">
    <div class="logo-box">eh AUTO</div>
    <div><b>Suntikoppa</b></div>
  </div>

  <!-- VISITOR COUNTER -->
  <div class="visitor-box">
    üëÄ Visitors: <span id="visitorCount">0</span>
  </div>

  <h2>Login</h2>

  <label>Enter Your Mobile Number</label>
  <input type="tel" id="loginMobile" placeholder="Enter mobile number">

  <button onclick="login()">‚û° Continue</button>
</div>

<!-- PAGE 2: BOOKING PAGE -->
<div class="container hidden" id="bookingPage">

  <div class="logo">
    <div class="logo-box">eh AUTO</div>
  </div>

  <h2>Autorickshaw Booking</h2>

  <label>User ID (Mobile Number)</label>
  <input type="text" id="userID" readonly>

  <label>Pickup Location</label>
  <input type="text" id="pickup" value="Suntikoppa" readonly>

  <label>Select Destination</label>
  <select id="destination" onchange="checkOther()">
    <option value="">-- Select Destination --</option>
    <option value="Suntikoppa">Suntikoppa Local</option>
    <option value="Madikeri">Madikeri</option>
    <option value="Kushalnagar">Kushalnagar</option>
    <option value="Chettalli">Chettalli</option>
    <option value="Boikeri">Boikeri</option>
    <option value="7th Hoskote">7th Hoskote</option>
    <option value="Ponnathmotte">Ponnathmotte</option>
    <option value="Gaddehalla">Gaddehalla</option>
    <option value="Madapura">Madapura</option>
    <option value="Other">Other (Enter Manually)</option>
  </select>

  <input type="text" id="otherDestination" placeholder="Enter your destination" style="display:none;">

  <label>Booking Date & Time</label>
  <input type="datetime-local" id="bookingTime">

  <label>Your Name</label>
  <input type="text" id="customerName">

  <div class="pay-box">
    <h3>Pay Now via UPI</h3>
    <img src="https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=upi%3A//pay%3Fpa%3D7795886619%40ptyes%26pn%3DGodvin%26cu%3DINR" width="200">
    <p><b>UPI ID:</b> 7795886619@ptyes</p>
    <label>Payment Status</label>
    <select id="paymentStatus">
      <option value="Not Paid">‚ùå Not Paid</option>
      <option value="Paid">‚úÖ Paid</option>
    </select>
  </div>

  <button onclick="bookNow()">üì≤ Book Now via WhatsApp</button>
</div>

<script>
  // VISITOR COUNTER
  let visits = localStorage.getItem("visitors") || 0;
  visits++;
  localStorage.setItem("visitors", visits);
  document.getElementById("visitorCount").textContent = visits;

  // PAGE SWITCH
  function login() {
    let mobile = document.getElementById("loginMobile").value;

    if (mobile.length < 10) {
      alert("Enter valid mobile number");
      return;
    }

    // Use same number everywhere
    document.getElementById("userID").value = mobile;

    // Swap pages
    document.getElementById("loginPage").classList.add("hidden");
    document.getElementById("bookingPage").classList.remove("hidden");
  }

  function checkOther() {
    let dest = document.getElementById("destination").value;
    document.getElementById("otherDestination").style.display = (dest === "Other") ? "block" : "none";
  }

  function bookNow() {
    let userID = document.getElementById("userID").value;
    let pickup = document.getElementById("pickup").value;
    let dest = document.getElementById("destination").value;
    let other = document.getElementById("otherDestination").value;
    let name = document.getElementById("customerName").value;
    let time = document.getElementById("bookingTime").value;
    let pay = document.getElementById("paymentStatus").value;

    if (dest === "Other") dest = other;

    let message =
      "üöñ *AUTO BOOKING REQUEST*\n\n" +
      "üÜî *User ID:* " + userID + "\n" +
      "üë§ *Name:* " + name + "\n" +
      "üìû *Customer Phone:* " + userID + "\n" +
      "üìç *Pickup:* " + pickup + "\n" +
      "üèÅ *Destination:* " + dest + "\n" +
      "‚è∞ *Date & Time:* " + time + "\n" +
      "üí∞ *Payment:* " + pay + "\n\n" +
      "‚úÖ Please confirm ride.";

    let admin = "917795886619";
    window.open("https://wa.me/" + admin + "?text=" + encodeURIComponent(message), "_blank");
  }
</script>

</body>
</html>
